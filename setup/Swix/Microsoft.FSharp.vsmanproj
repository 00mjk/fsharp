<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="15.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

    <Import Project="..\FSharp.Setup.props" />
  
    <PropertyGroup>
        <FSharpSourcesRoot>..\..\src</FSharpSourcesRoot>
        <FinalizeManifest>true</FinalizeManifest>
        <FinalizeSkipLayout>true</FinalizeSkipLayout>
        <IsPackage>true</IsPackage>
        <OutputPath>$(FSharpSourcesRoot)\..\$(Configuration)\insertion</OutputPath>
    </PropertyGroup>

    <Import Project="$(FSharpSourcesRoot)\Microbuild.Settings.targets" />
  
    <Target Name="IncludeManifests" BeforeTargets="MergeManifests">
        <ItemGroup>
            <MergeManifest Include="$(OutputPath)\Microsoft.FSharp.SDK.%(SetupLanguages.LocaleCode).json" />
            
            <MergeManifest Include="$(OutputPath)\Microsoft.FSharp.Vsix.Full.json" />
            <MergeManifest Include="$(OutputPath)\Microsoft.FSharp.Dependencies.json" />
            
            <MergeManifest Include="$(OutputPath)\Microsoft.FSharp.LangPack.Full.%(SetupLanguages.LocaleCode).json"
                           Condition="'%(SetupLanguages.IsLangPack)' == 'true'" />
        </ItemGroup>
    </Target>
</Project>